# 모든 동작을 불변형으로 만들기

## copy-on-write

장바구니 동작에 적용시키고 원칙에 따른 "쓰기", "읽기" 로 분류

### copy-on-write 원칙에 따라 "쓰기"

1. 배열 or 객체를 파라미터로 받기
2. 복사하기
3. 복사본 변경하기
4. 복사본 반환하기

### copy-on-write 원칙에 따라 "읽기"

1. 배열 or 객체를 파라미터로 받기
2. 복사하기
3. 복사본 반환하기

#### copy-on-write 는 데이터를 불변형으로 유지할 수 있는 원칙

- 원본을 직접 반환 x, 원본을 직접 수정 x
- 복사본을 만들고 원본 대신 복사본을 변경하는 것

#### 변경 가능 데이터를 읽는 것 = 액션 & 불변 데이터를 읽는 것 = 계산

- 변경 가능한 데이터는 그 시점에 따라 읽는 값이 달라질 수 있으므로 액션이다.
- 그런 관점에서 불변 데이터는 시점에 종속되지 않기 때문에 계산이다.
