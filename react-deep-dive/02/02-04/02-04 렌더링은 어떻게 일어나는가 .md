# 리액트의 렌더링

- 브러우저의 렌더링이 아닌 react의 렌더링이다
- props와 state의 값을 기반으로 어떻게 UI를 구성할지 , 이를 바탕으로 어떤 DOM의 결과를
  브라우저에 제공할지 가 계산되는 과정

## 1. 최초의 렌더링

- 처음 어플리케이션을 진입할시 당연히 필요함

## 2. 리렌더링

- 클래스 컴포넌트
  - setState가 실행될경우
  - forceUpdate가 실행될경우 : 개발자가 강제적으로 렌더링이필요하다고 판단
    - shouldComponentUpdate를 무시하고 건너뜀
    - 주의 : render 내에서는 사용 x (무한 루프)
- 함수 컴포넌트
  - useState()의 두번째 배열요소인 setter 실행
  - useReducer()의 두번째 배열요소인 dispatch 실행
  - 컴포넌트의 key props가 변경시
    - 리액트이세너 key는 명시적으로 선언돼있지않아도 모든 컴포넌트에서 사용가능한 특수 props
- 해당되지 않을 경우
  - 아무리 변경된다하더라도 리렌더링 을 발생시키지않음
  - 변경된값을 렌더링된 DOM에서는 확인 x

## 3. 랜더링 프로세스

- 렌더링 단계
  1. 렌더 (Render Phase)
  2. 커밋 (Commmit Phase)

### 렌더

- 초기 렌더시
  - 브라우저가 엔트리 파일을 읽으면서 루트 요소부터 파악
- 컴포넌트를 렌더링하고 변경사항을 계산하는 모든작업
- 리렌더시
  - 가상 DOM과 컴포넌트 실행후 결과를 비교하여 변경이 필요한 컴포넌트 체크하는단계
    - 크게 3가지 (key , type , props) 비교
-

### 커밋

- 렌더 단계의 변경 사항을 DOM에 적용후 사용자에게 보여주는 과정
  - 이과정이 끝나야 브라우저의 렌더링 발생
- 초기 렌더에서의 커밋 단계는 렌더 단계에서 파악한 DOM 노드들을 DOM에 반영
- 리렌더에서의 커밋 단계는 렌더 간 발생한 최소한의 변경 사항들을 DOM에 반영

- 위 두과정으로 이루어진 리엑트의 렌더링은 항상 동기식으로 작동했다

### 주의할점

- React의 렌더링이 일어난다고 무조건 DOM의 업데이트 일어나는것은 아니다
- 렌더링 과정이 길어질수로 성능저하및 브라우저의 다른 작업을 지연시킴
